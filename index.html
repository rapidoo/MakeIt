<!DOCTYPE html>
<html ng-app>
  <head>
    <meta charset="utf-8">
    <title>GeoLive</title>
    <link rel="stylesheet" href="/static/leaflet.css" />
    <link rel="stylesheet" href="/static/geolive.css" />
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.9.2/themes/base/jquery-ui.css"type="text/css">

    <script src="/static/leaflet.js"></script>
    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>
    
    <script src="http://code.highcharts.com/highcharts.js"></script>
    <script src="http://code.highcharts.com/modules/exporting.js"></script>
    <script src="/static/geolive.js"></script>

    <script>

$(function () {
        $('#vertical').highcharts({
            chart: {
                type: 'column',
	   	chart: {
            		animation: {
                		duration: 1000,
                		easing: 'swing'
            		}
        	}
            },
            title: {
                text: ''            
            },
            
            xAxis: {
                categories: [
                    'Verticale'
                ]
            },
            yAxis: {
                min: 0,
                title: {
                    text: 'nb Requetes'
                }
            },
            tooltip: {
                headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
                pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
                    '<td style="padding:0"><b>{point.y:.1f}</b></td></tr>',
                footerFormat: '</table>',
                shared: true,
                useHTML: true
            },
            plotOptions: {
                column: {
                    pointPadding: 0.2,
                    borderWidth: 0
                }
            },
            series: default_series 
        });
    });
    
Highcharts.theme = {
  colors: ['#CDDDE8', '#4A768B', '#99B0BF', '#FDDB56', '#000000'],

   chart: {
      className: 'skies',
      borderWidth: 0,
      height : 300,
      plotShadow: true,
      //plotBackgroundImage: 'http://www.highcharts.com/demo/gfx/skies.jpg',
      plotBackgroundColor: {
         linearGradient: [0, 0, 250, 500],
         stops: [
            [0, 'rgba(255, 255, 255, 1)'],
            [1, 'rgba(255, 255, 255, 0)']
         ]
      },
      plotBorderWidth: 1,
	 chart: {
            animation: {
                duration: 1000,
                easing: 'easeOutBounce'
            }
        }

   },
	plotOptions : {
			column : {
				borderWidth : 0,
				borderRadius : 15 
			},
		        series: {
	        	   	 pointWidth: 30
	        	}

	},
   title: {
      style: {
         color: '#3E576F',
         font: '16px Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif'
      }
   },
   subtitle: {
      style: {
         color: '#6D869F',
         font: '12px Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif'
      }
   },
   xAxis: {
      gridLineWidth: 0,
      lineColor: '#C0D0E0',
      tickColor: '#C0D0E0',
      labels: {
         style: {
            color: '#666',
            fontWeight: 'bold'
         }
      },
      title: {
         style: {
            color: '#666',
            font: '12px Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif'
         }
      }
   },
   yAxis: {
      alternateGridColor: 'rgba(255, 255, 255, .5)',
	max:30,
      lineColor: '#C0D0E0',
      tickColor: '#C0D0E0',
      tickWidth: 1,
      labels: {
         style: {
            color: '#666',
            fontWeight: 'bold'
         }
      },
      title: {
         style: {
            color: '#666',
            font: '12px Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif'
         }
      }
   },
   legend: {
      itemStyle: {
         font: '9pt Trebuchet MS, Verdana, sans-serif',
         color: '#3E576F'
      },
      itemHoverStyle: {
         color: 'black'
      },
      itemHiddenStyle: {
         color: 'silver'
      }
   },
   labels: {
      style: {
         color: '#3E576F'
      }
   }
};

// Apply the theme
var highchartsOptions = Highcharts.setOptions(Highcharts.theme);

$(function() {
        // Create the chart
        chart_pie = new Highcharts.Chart({
            chart: {
                renderTo: 'container',
                type: 'pie'
            },
             title: {
                text: ''
            },
            yAxis: {
                title: {
                    text: 'Total percent market share'
                }
            },
            plotOptions: {
                pie: {
                    shadow: false
                }
            },
            tooltip: {
                formatter: function() {
                    return '<b>'+ this.point.name +'</b>: '+ this.y +' %';
                }
            },
            series: default_series_pie
        });
    });

$(function() {
        // Create the chart
        chart_pie_single = new Highcharts.Chart({
            chart: {
                renderTo: 'container_single',
                type: 'pie'
            },
             title: {
                text: ''
            },
            yAxis: {
                title: {
                    text: 'Total percent market share'
                }
            },
            plotOptions: {
                pie: {
                    shadow: false
                }
            },
            tooltip: {
                formatter: function() {
                    return '<b>'+ this.point.name +'</b>: '+ this.y +' %';
                }
            },
            series: default_single_pie
        });
    });

    </script>



<script>
setInterval(getData, 1000);
</script>


  </head>
  <body>
    
    <div id="compteurs" class="leftStyle">
      <div class="chapitre"><img src="/static/SoLive.gif"/></div></br>
      <div class="chapitre"><img src="/static/Total.gif"/></br>

      <div class="compteur"></div>
      <div id="container" style="min-width: 300px; height: 300px; margin: 0 auto"></div>
<div id="container_single" style="min-width: 300px; height: 300px; margin: 0 auto"></div>

    </div>  </br>

     
      <div class="chapitre" id="vertical"><img src="/static/Categories.gif"/></div>  </br>
      <div class="chapitre"><img src="/static/DernieresRech.gif"/>
        
        <ul id="requests">
            <li class="jaunes">hotel avec piscine / Rennes</li>
            <li class="jaunes">Darty / Sevres</li>
            <li class="blanc">Jean-Pierre Remy / Colombey-les-Deux-Eglises</li>
            <li class="jaunes">Coiffeur a domicile / Sevres</li>
        </ul>
      </div>  
      
    </div>
    <div id="map" class="rightStyle"></div>
<script type="text/javascript">
             map = L.map('map').setView([46, 3],6);
 var Acetate_terrain = L.tileLayer('http://a{s}.acetate.geoiq.com/tiles/terrain/{z}/{x}/{y}.png', {
        attribution: '&copy;2012 Esri & Stamen, Data from OSM and Natural Earth',
        subdomains: '0123',
        minZoom: 2,
        maxZoom: 18
}).addTo(map); 

</script>

  </body>
</html>


